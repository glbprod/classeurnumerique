<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Activit√©s LLM et Cybers√©curit√©</title>
    <style>
        html {
            font-size: 1.2rem;
        }
        
        p, li {
            font-size: 1.2rem;
        }
        
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            line-height: 1.5;
            color: #333;
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            border-bottom: 3px solid #8b5cf6;
            padding-bottom: 10px;
            margin-bottom: 25px;
        }
        
        .header-left {
            display: flex;
            gap: 25px;
        }
        
        .sequence-box {
            background: linear-gradient(135deg, #8b5cf6, #a78bfa);
            color: white;
            padding: 10px 15px;
            border-radius: 8px;
            font-weight: bold;
            text-align: center;
        }
        
        .title-section {
            background: linear-gradient(135deg, #f3e8ff, #e9d5ff);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 25px;
            text-align: center;
            border: 2px solid #8b5cf6;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .intro-box {
            background: linear-gradient(135deg, #dbeafe, #bfdbfe);
            border: 2px solid #3b82f6;
            border-radius: 12px;
            padding: 20px;
            margin: 25px 0;
        }
        
        .activity-section {
            background-color: #f8f9fa;
            border-left: 5px solid #8b5cf6;
            border-radius: 0 8px 8px 0;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .activity-header {
            background-color: #8b5cf6;
            color: white;
            padding: 10px 15px;
            margin: -20px -20px 15px -25px;
            border-radius: 0 8px 0 0;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .time-badge {
            background-color: rgba(255,255,255,0.2);
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 12px;
        }
        
        .scenario-box {
            background: #fff;
            border: 2px solid #8b5cf6;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .danger-box {
            background: linear-gradient(135deg, #fee2e2, #fecaca);
            border: 2px solid #ef4444;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .warning-box {
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            border: 2px solid #f59e0b;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .success-box {
            background: linear-gradient(135deg, #d1fae5, #a7f3d0);
            border: 2px solid #10b981;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .info-box {
            background: linear-gradient(135deg, #dbeafe, #bfdbfe);
            border: 2px solid #3b82f6;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 15px 0;
        }
        
        .comparison-card {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            padding: 15px;
        }
        
        .example-chat {
            background: #f3f4f6;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            font-family: monospace;
            white-space: pre-wrap;
        }
        
        .user-message {
            background: #e0e7ff;
            border-left: 4px solid #6366f1;
            padding: 10px;
            margin: 5px 0;
            border-radius: 0 8px 8px 0;
        }
        
        .ai-message {
            background: #f3e8ff;
            border-left: 4px solid #8b5cf6;
            padding: 10px;
            margin: 5px 0;
            border-radius: 0 8px 8px 0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
        }
        
        th {
            background-color: #8b5cf6;
            color: white;
            font-weight: bold;
        }
        
        .checklist-item {
            display: flex;
            align-items: center;  /* ‚Üê center au lieu de flex-start */
            margin: 8px 0;
            padding: 5px;
        }

        .checklist-item input[type="checkbox"] {
            margin-right: 10px;
            margin-top: 0;  /* ‚Üê Retirer le margin-top */
            transform: scale(1.2);
            flex-shrink: 0;
        }

        .checklist-item label {
            flex: 1;
            line-height: 1.5;  /* ‚Üê Am√©liore l'alignement du texte */
        }
        
        .risk-level {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: bold;
        }
        
        .risk-high { background: #fee2e2; color: #991b1b; }
        .risk-medium { background: #fef3c7; color: #92400e; }
        .risk-low { background: #d1fae5; color: #065f46; }
        
        .footer {
            background: linear-gradient(135deg, #8b5cf6, #a78bfa);
            color: white;
            padding: 15px;
            text-align: center;
            border-radius: 8px;
            margin-top: 30px;
            font-weight: bold;
        }

        .download-button {
            background: linear-gradient(135deg, #8b5cf6, #a78bfa);
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0,0,0,0.2);
            transition: transform 0.2s;
            display: block;
            margin: 30px auto;
        }

        .download-button:hover {
            transform: scale(1.05);
        }

        .download-button:active {
            transform: scale(0.95);
        }

        textarea {
            border: 2px solid #d1d5db;
            border-radius: 4px;
            font-family: Roboto, sans-serif;
            font-size: 20px;
            resize: vertical;
            min-height: 100px;
            min-width: 300px;
            width: 100%;
            padding: 8px;
            box-sizing: border-box;  /* ‚Üê Cette ligne est cruciale ! */
        }

        textarea:focus {
            outline: none;
            border-color: #8b5cf6;
        }

        .radio-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .radio-group label {
            display: flex;
            align-items: center;  /* ‚Üê Assure l'alignement vertical */
            cursor: pointer;
            line-height: 1.5;  /* ‚Üê Am√©liore l'alignement du texte */
        }

        .radio-group input[type="radio"] {
            margin-right: 8px;
            margin-top: 0;  /* ‚Üê Retire tout d√©calage vertical */
            transform: scale(1.2);
            cursor: pointer;
            flex-shrink: 0;  /* ‚Üê Emp√™che le bouton de r√©tr√©cir */
        }
    </style>
</head>
<body>
    
    <div class="title-section">
        <h1 style="margin: 0; color: #7c3aed; font-size: 28px;">ü§ñ LES LLM ET LA CYBERS√âCURIT√â</h1>
        <h2 style="margin: 10px 0 0 0; color: #666; font-size: 18px;">ChatGPT, Claude & Co : Opportunit√©s et Risques</h2>
        <p style="margin: 15px 0 0 0; font-style: italic;">Comprendre les enjeux de l'IA g√©n√©rative pour mieux se prot√©ger</p>
    </div>
    
    <!-- INTRODUCTION -->
    <div class="intro-box">
        <h3 style="margin-top: 0; color: #1e40af;">üß† QU'EST-CE QU'UN LLM ?</h3>
        
        <p><strong>LLM = Large Language Model (Grand Mod√®le de Langage)</strong></p>
        
        <p>Ce sont des intelligences artificielles capables de :</p>
        <ul>
            <li>üí¨ <strong>Comprendre et g√©n√©rer du texte</strong> comme un humain</li>
            <li>üîç <strong>R√©pondre √† des questions</strong> sur presque tous les sujets</li>
            <li>‚úçÔ∏è <strong>Cr√©er du contenu</strong> : textes, codes, r√©sum√©s, traductions</li>
            <li>ü§ù <strong>Assister dans diverses t√¢ches</strong> : devoirs, recherches, cr√©ation</li>
        </ul>
        
        <div class="comparison-grid">
            <div class="comparison-card">
                <h4 style="color: #7c3aed;">‚úÖ EXEMPLES POPULAIRES :</h4>
                <ul style="font-size: 12px;">
                    <li><strong>ChatGPT</strong> (OpenAI)</li>
                    <li><strong>Claude</strong> (Anthropic)</li>
                    <li><strong>Gemini</strong> (Google)</li>
                    <li><strong>Copilot</strong> (Microsoft)</li>
                    <li><strong>Mistral</strong> (fran√ßais)</li>
                </ul>
            </div>
            
            <div class="comparison-card">
                <h4 style="color: #7c3aed;">üìä CHIFFRES CL√âS :</h4>
                <ul style="font-size: 12px;">
                    <li>+100 millions d'utilisateurs ChatGPT</li>
                    <li>Utilis√© par 65% des coll√©giens</li>
                    <li>March√© de 15 milliards $ en 2025</li>
                    <li>Accessible d√®s 13 ans avec accord parental</li>
                </ul>
            </div>
        </div>
    </div>
    
    <form id="activitiesForm">
        <!-- ACTIVIT√â 3 -->
        <div class="activity-section">
            <div class="activity-header">
                <span>üõ°Ô∏è ACTIVIT√â : SE PROT√âGER ET BIEN UTILISER</span>
                <span class="time-badge">25 min</span>
            </div>
            
            <h4>üéØ Objectif : Adopter les bonnes pratiques face aux LLM</h4>
            
            <div class="success-box">
                <h4>‚úÖ LES 10 R√àGLES D'OR DE L'UTILISATION S√âCURIS√âE DES LLM</h4>
                
                <div class="checklist">
                    <div class="checklist-item">
                        <input type="checkbox" id="rule1" name="rule1"> <label for="rule1"><strong>1. Prot√©ger sa vie priv√©e : </strong> Ne jamais donner d'informations personnelles</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="rule2" name="rule2"> <label for="rule2"><strong>2. V√©rifier les informations :</strong> L'IA peut se tromper ou inventer (hallucinations)</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="rule3" name="rule3"> <label for="rule3"><strong>3. Croiser les sources : </strong> Ne jamais se fier √† une seule r√©ponse de l'IA</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="rule4" name="rule4"> <label for="rule4"><strong>4. Rester critique : </strong> L'IA n'a pas de conscience, elle ne "comprend" pas vraiment</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="rule5" name="rule5"> <label for="rule5"><strong>5. Usage √©thique : </strong> Pas de triche, l'IA doit √™tre un assistant, pas un rempla√ßant</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="rule6" name="rule6"> <label for="rule6"><strong>6. Attention aux deepfakes : </strong> V√©rifier l'authenticit√© des contenus suspects</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="rule7" name="rule7"> <label for="rule7"><strong>7. Signaler les abus : </strong> Si l'IA g√©n√®re du contenu dangereux ou ill√©gal</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="rule8" name="rule8"> <label for="rule8"><strong>8. Respecter les autres : </strong> Ne pas utiliser l'IA pour harceler ou nuire</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="rule9" name="rule9"> <label for="rule9"><strong>9. Garder son esprit critique : </strong> L'IA peut avoir des biais ou √™tre manipul√©e</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="rule10" name="rule10"> <label for="rule10"><strong>10. En parler avec des adultes : </strong> Parents, profs en cas de doute ou probl√®me</label>
                    </div>
                </div>
            </div>
            
            <h4>üí° EXERCICE PRATIQUE : Bonne ou mauvaise utilisation ?</h4>
            
            <table>
                <tr>
                    <th>Utilisation</th>
                    <th style="width: 15%;">‚úÖ Bonne<br>‚ùå Mauvaise</th>
                    <th>Justification</th>
                </tr>
                <tr>
                    <td>Demander √† l'IA d'expliquer un cours de maths difficile</td>
                    <td>
                        <div class="radio-group">
                            <label><input type="radio" name="usage1" value="bonne"> Bonne</label>
                            <label><input type="radio" name="usage1" value="mauvaise"> Mauvaise</label>
                        </div>
                    </td>
                    <td>
                        <textarea name="usage1_justif" placeholder="Votre justification..."></textarea>
                    </td>
                </tr>
                <tr>
                    <td>Faire √©crire enti√®rement une r√©daction de fran√ßais par l'IA</td>
                    <td>
                        <div class="radio-group">
                            <label><input type="radio" name="usage2" value="bonne"> Bonne</label>
                            <label><input type="radio" name="usage2" value="mauvaise"> Mauvaise</label>
                        </div>
                    </td>
                    <td>
                        <textarea name="usage2_justif" placeholder="Votre justification..."></textarea>
                    </td>
                </tr>
                <tr>
                    <td>Partager son adresse avec l'IA pour avoir des infos locales</td>
                    <td>
                        <div class="radio-group">
                            <label><input type="radio" name="usage3" value="bonne"> Bonne</label>
                            <label><input type="radio" name="usage3" value="mauvaise"> Mauvaise</label>
                        </div>
                    </td>
                    <td>
                        <textarea name="usage3_justif" placeholder="Votre justification..."></textarea>
                    </td>
                </tr>
                <tr>
                    <td>Utiliser l'IA pour avoir des id√©es de plan pour un expos√©</td>
                    <td>
                        <div class="radio-group">
                            <label><input type="radio" name="usage4" value="bonne"> Bonne</label>
                            <label><input type="radio" name="usage4" value="mauvaise"> Mauvaise</label>
                        </div>
                    </td>
                    <td>
                        <textarea name="usage4_justif" placeholder="Votre justification..."></textarea>
                    </td>
                </tr>
                <tr>
                    <td>Demander √† l'IA de cr√©er un faux certificat m√©dical</td>
                    <td>
                        <div class="radio-group">
                            <label><input type="radio" name="usage5" value="bonne"> Bonne</label>
                            <label><input type="radio" name="usage5" value="mauvaise"> Mauvaise</label>
                        </div>
                    </td>
                    <td>
                        <textarea name="usage5_justif" placeholder="Votre justification..."></textarea>
                    </td>
                </tr>
                <tr>
                    <td>Faire corriger son brouillon de devoir par l'IA</td>
                    <td>
                        <div class="radio-group">
                            <label><input type="radio" name="usage6" value="bonne"> Bonne</label>
                            <label><input type="radio" name="usage6" value="mauvaise"> Mauvaise</label>
                        </div>
                    </td>
                    <td>
                        <textarea name="usage6_justif" placeholder="Votre justification..."></textarea>
                    </td>
                </tr>
                <tr>
                    <td>Demander √† l'IA de g√©n√©rer des insultes contre un camarade</td>
                    <td>
                        <div class="radio-group">
                            <label><input type="radio" name="usage7" value="bonne"> Bonne</label>
                            <label><input type="radio" name="usage7" value="mauvaise"> Mauvaise</label>
                        </div>
                    </td>
                    <td>
                        <textarea name="usage7_justif" placeholder="Votre justification..."></textarea>
                    </td>
                </tr>
                <tr>
                    <td>Utiliser l'IA pour apprendre du vocabulaire anglais</td>
                    <td>
                        <div class="radio-group">
                            <label><input type="radio" name="usage8" value="bonne"> Bonne</label>
                            <label><input type="radio" name="usage8" value="mauvaise"> Mauvaise</label>
                        </div>
                    </td>
                    <td>
                        <textarea name="usage8_justif" placeholder="Votre justification..."></textarea>
                    </td>
                </tr>
            </table>
        </div>
        
        <!-- ACTIVIT√â 4 -->
        <div class="activity-section">
            <div class="activity-header">
                <span>üî¨ ACTIVIT√â : D√âTECTER LE CONTENU G√âN√âR√â PAR IA</span>
                <span class="time-badge">20 min</span>
            </div>
            
            <h4>üéØ Objectif : Apprendre √† reconna√Ætre un contenu cr√©√© par une IA</h4>
            
            <div class="info-box">
                <h4>üîç INDICES POUR D√âTECTER UN TEXTE G√âN√âR√â PAR IA :</h4>
                <ul>
                    <li>‚úçÔ∏è <strong>Style trop parfait</strong> : Pas de fautes, phrases tr√®s structur√©es</li>
                    <li>ü§ñ <strong>Formulations g√©n√©riques</strong> : "Il est important de noter que...", "En conclusion..."</li>
                    <li>üìä <strong>Informations vagues</strong> : Peu de d√©tails pr√©cis, dates, noms</li>
                    <li>üîÑ <strong>R√©p√©titions</strong> : Les m√™mes id√©es reformul√©es diff√©remment</li>
                    <li>‚ùì <strong>Erreurs factuelles</strong> : Dates incorrectes, √©v√©nements invent√©s</li>
                    <li>üé≠ <strong>Manque de personnalit√©</strong> : Aucune opinion personnelle, exp√©rience v√©cue</li>
                </ul>
            </div>
            
            <h4>üïµÔ∏è EXERCICE : Humain ou IA ? Devinez l'auteur de ces textes</h4>
            
            <div class="scenario-box">
                <h4>Texte A : Mon exp√©rience au coll√®ge</h4>
                <div class="example-chat">Le coll√®ge est une p√©riode importante de la vie d'un jeune. C'est une √©tape de transition entre l'√©cole primaire et le lyc√©e. Il est essentiel de bien s'organiser et de respecter les r√®gles. Les enseignants sont l√† pour accompagner les √©l√®ves dans leur apprentissage. Il est important de noter que la vie au coll√®ge permet aussi de d√©velopper des comp√©tences sociales.</div>
                
                <p><strong>Votre diagnostic :</strong></p>
                <div class="radio-group">
                    <label><input type="radio" name="texteA" value="humain"> √âcrit par un humain</label>
                    <label><input type="radio" name="texteA" value="ia"> G√©n√©r√© par IA</label>
                </div>
                <p><strong>Justification :</strong></p>
                <textarea name="texteA_justif" placeholder="Expliquez votre choix..."></textarea>
            </div>
            
            <div class="scenario-box">
                <h4>Texte B : Mon exp√©rience au coll√®ge</h4>
                <div class="example-chat">J'avoue que le coll√®ge, au d√©but, √ßa m'a fait flipper ! Le premier jour, j'ai eu du mal √† trouver ma salle de maths et je suis arriv√© en retard. Super l'image ! üòÖ Mais maintenant j'ai mes potes, on tra√Æne ensemble √† la r√©cr√©, et en fait c'est plut√¥t cool. Bon, les contr√¥les c'est toujours stressant, surtout en maths o√π je suis pas une fl√®che... Mais madame Dubois est sympa, elle explique bien.</div>
                
                <p><strong>Votre diagnostic :</strong></p>
                <div class="radio-group">
                    <label><input type="radio" name="texteB" value="humain"> √âcrit par un humain</label>
                    <label><input type="radio" name="texteB" value="ia"> G√©n√©r√© par IA</label>
                </div>
                <p><strong>Justification :</strong></p>
                <textarea name="texteB_justif" placeholder="Expliquez votre choix..."></textarea>
            </div>
            
            <div class="scenario-box">
                <h4>Texte C : L'impact du r√©chauffement climatique</h4>
                <div class="example-chat">Le r√©chauffement climatique repr√©sente l'un des d√©fis majeurs du XXIe si√®cle. Les scientifiques s'accordent √† dire que les activit√©s humaines sont la cause principale de ce ph√©nom√®ne. Il est crucial de prendre des mesures pour r√©duire les √©missions de gaz √† effet de serre. Les gouvernements et les citoyens doivent agir ensemble pour pr√©server notre plan√®te pour les g√©n√©rations futures.</div>
                
                <p><strong>Votre diagnostic :</strong></p>
                <div class="radio-group">
                    <label><input type="radio" name="texteC" value="humain"> √âcrit par un humain</label>
                    <label><input type="radio" name="texteC" value="ia"> G√©n√©r√© par IA</label>
                </div>
                <p><strong>Justification :</strong></p>
                <textarea name="texteC_justif" placeholder="Expliquez votre choix..."></textarea>
            </div>
            
            <div class="warning-box">
                <h4>üí° ASTUCE POUR V√âRIFIER UN TEXTE :</h4>
                <ul>
                    <li>üîé Utiliser des d√©tecteurs en ligne (GPTZero, ZeroGPT) - mais pas fiables √† 100%</li>
                    <li>üß† Se fier √† son intuition : manque de personnalit√©, style trop parfait</li>
                    <li>üìù Demander des pr√©cisions : une IA aura du mal avec des d√©tails personnels</li>
                    <li>üéØ Chercher des incoh√©rences factuelles ou temporelles</li>
                </ul>
            </div>
        </div>
    </form>

    <button class="download-button" type="button" onclick="sendToFirebase(); return false;">üì• Envoyer mes r√©ponses</button>
   
    <!-- RESSOURCES -->
    <div class="info-box">
        <h3 style="margin-top: 0; color: #1e40af;">üîó RESSOURCES POUR ALLER PLUS LOIN</h3>
        
        <div class="comparison-grid">
            <div>
                <h4 style="color: #7c3aed;">üìö S'informer :</h4>
                <ul style="font-size: 12px;">
                    <li><strong>CNIL :</strong> cnil.fr (IA et donn√©es personnelles)</li>
                    <li><strong>Internet Sans Crainte :</strong> Guides sur l'IA</li>
                    <li><strong>ANSSI :</strong> cyber.gouv.fr (s√©curit√© IA)</li>
                    <li><strong>PIX :</strong> Comp√©tences num√©riques</li>
                </ul>
            </div>
            
            <div>
                <h4 style="color: #7c3aed;">üõ†Ô∏è Outils de d√©tection :</h4>
                <ul style="font-size: 12px;">
                    <li><strong>GPTZero :</strong> D√©tecteur de textes IA</li>
                    <li><strong>ZeroGPT :</strong> V√©rification contenus</li>
                    <li><strong>Sensity :</strong> D√©tection deepfakes</li>
                    <li><strong>InVID :</strong> V√©rification vid√©os</li>
                </ul>
            </div>
        </div>
        
        <div style="margin-top: 15px;">
            <h4 style="color: #7c3aed;">üÜò En cas de probl√®me :</h4>
            <ul style="font-size: 12px;">
                <li><strong>3018 :</strong> Num√©ro national contre cyberharc√®lement (gratuit, anonyme)</li>
                <li><strong>e-Enfance :</strong> Association de protection de l'enfance en ligne</li>
                <li><strong>Cybermalveillance.gouv.fr :</strong> Signalement et assistance</li>
                <li><strong>Pharos :</strong> Signalement contenus illicites (pharos.gouv.fr)</li>
            </ul>
        </div>
    </div>

    <script>
    
    // ============================================
    // CONFIGURATION FIREBASE
    // ============================================
    const firebaseConfig = {
        apiKey: "AIzaSyDIvzEk0xKVdRC0r9D_tBGnKPX29Fqkem4",
        authDomain: "form-results-b285b.firebaseapp.com",
        projectId: "form-results-b285b",
        storageBucket: "form-results-b285b.firebasestorage.app",
        messagingSenderId: "662462446647",
        appId: "1:662462446647:web:0fe6315cc0c189185513b2"
    };

    // Initialiser Firebase
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    console.log('‚úÖ Firebase initialis√©');

    // ============================================
    // CONFIRMATION AVANT FERMETURE
    // ============================================
    let formModified = false;

    document.getElementById('quizForm').addEventListener('input', function() {
        formModified = true;
    });

    window.addEventListener('beforeunload', function(e) {
        if (formModified) {
            e.preventDefault();
            e.returnValue = '';
            return '';
        }
    });

    // ============================================
    // BOUTON D'ENVOI
    // ============================================
    document.getElementById('sendToFirebase').addEventListener('click', async function() {
        const form = document.getElementById('quizForm');
        
        // V√©rifier la validit√© du formulaire
        if (!form.checkValidity()) {
            form.reportValidity();
            return;
        }
        
        // D√©sactiver le bouton
        const originalText = this.textContent;
        this.disabled = true;
        this.textContent = '‚è≥ Envoi en cours...';
        
        try {
            // Collecter les donn√©es
            const formData = new FormData(form);
            
            const responses = {
                nom_eleve: document.getElementById('studentName').value,
                classe: document.getElementById('studentClass').value,
                timestamp: firebase.firestore.FieldValue.serverTimestamp(),
                date_soumission: new Date().toISOString(),
                
                // Exercice 1
                ex1_q1: formData.get('q1_1'),
                ex1_q2: formData.get('q1_2'),
                ex1_q3: formData.get('q1_3'),
                
                // Exercice 2
                ex2_q1: formData.get('q2_1'),
                ex2_q2: formData.get('q2_2'),
                ex2_q3: formData.get('q2_3'),
            };
            
            console.log('üì§ Envoi des donn√©es:', responses);
            
            // Envoyer √† Firebase
            const docRef = await db.collection('llm_cybersecurite').add(responses);
            
            console.log('‚úÖ Document enregistr√© avec ID:', docRef.id);
            
            // R√©activer le bouton
            this.disabled = false;
            this.textContent = originalText;
            
            // Notification de succ√®s
            alert('‚úÖ Tes r√©ponses ont √©t√© envoy√©es avec succ√®s !');
            
            // R√©initialiser le formulaire
            form.reset();
            formModified = false;
            
        } catch (error) {
            console.error('‚ùå Erreur Firebase:', error);
            
            // R√©activer le bouton
            this.disabled = false;
            this.textContent = originalText;
            
            // Notification d'erreur
            alert('‚ùå Erreur lors de l\'envoi : ' + error.message);
        }
    });
    </script>
</body>
</html>
