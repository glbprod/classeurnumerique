<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Activit√© mBot 2 - Patrouille intelligente avec IA</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 210mm;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .fiche {
            background-color: white;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            border-radius: 10px;
        }
        
        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px 10px 0 0;
            margin: -30px -30px 25px -30px;
        }
        
        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }
        
        .niveau {
            background-color: rgba(255, 255, 255, 0.3);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9em;
            border: 2px solid white;
        }
        
        .robot-badge {
            background-color: #ff6b6b;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9em;
            margin-top: 10px;
            display: inline-block;
        }
        
        h1 {
            color: white;
            font-size: 1.9em;
            margin-bottom: 5px;
        }
        
        .sequence-info {
            color: rgba(255, 255, 255, 0.9);
            font-style: italic;
            font-size: 0.95em;
        }
        
        h2 {
            color: #667eea;
            font-size: 1.3em;
            margin-top: 25px;
            margin-bottom: 12px;
            padding-left: 10px;
            border-left: 4px solid #667eea;
        }
        
        h3 {
            color: #764ba2;
            font-size: 1.1em;
            margin-top: 15px;
            margin-bottom: 8px;
        }
        
        .objectifs {
            background: linear-gradient(135deg, #e0c3fc 0%, #8ec5fc 100%);
            border-left: 4px solid #667eea;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .objectifs ul {
            margin-left: 20px;
            margin-top: 10px;
        }
        
        .materiel {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            border-left: 4px solid #ff9068;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .materiel ul {
            margin-left: 20px;
            margin-top: 10px;
        }
        
        .mbot2-specificite {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border: 3px solid #667eea;
        }
        
        .mbot2-titre {
            color: #667eea;
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 1.2em;
        }
        
        .mbot2-titre::before {
            content: "ü§ñ ";
        }
        
        .situation {
            background: linear-gradient(135deg, #fbc2eb 0%, #a6c1ee 100%);
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border: 2px solid #764ba2;
        }
        
        .situation-titre {
            color: #764ba2;
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 1.2em;
        }
        
        .mission-badge {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            font-weight: bold;
            text-align: center;
            font-size: 1.1em;
        }
        
        .etape {
            background-color: #f8f9fa;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
            border-left: 3px solid #667eea;
        }
        
        .etape-numero {
            display: inline-block;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            text-align: center;
            line-height: 35px;
            font-weight: bold;
            margin-right: 10px;
            font-size: 1.1em;
        }
        
        .etape-titre {
            font-weight: bold;
            color: #2c3e50;
            display: inline;
            font-size: 1.05em;
        }
        
        .phase {
            background: linear-gradient(to right, #667eea, #764ba2);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            display: inline-block;
            margin: 10px 0;
            font-weight: bold;
            font-size: 0.9em;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        
        th, td {
            border: 1px solid #bdc3c7;
            padding: 10px;
            text-align: left;
        }
        
        th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-weight: bold;
        }
        
        tr:nth-child(even) {
            background-color: #f3f4f6;
        }
        
        .code-block {
            background-color: #1e1e1e;
            color: #d4d4d4;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            overflow-x: auto;
            margin: 15px 0;
            border: 2px solid #667eea;
            white-space: pre-wrap;  /* ‚Üê AJOUTER CETTE LIGNE */
            line-height: 1.5;       /* ‚Üê AJOUTER CETTE LIGNE (optionnel, pour l'a√©ration) */
        }
        
        .code-python {
            color: #9cdcfe;
        }
        
        .code-comment {
            color: #6a9955;
        }
        
        .code-keyword {
            color: #c586c0;
        }
        
        .code-string {
            color: #ce9178;
        }
        
        .consigne {
            background-color: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 12px;
            margin: 15px 0;
            font-weight: 500;
            border-radius: 5px;
        }
        
        .competences {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 15px 0;
        }
        
        .competence-badge {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.85em;
        }
        
        .attention {
            background-color: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 12px;
            margin: 15px 0;
            border-radius: 5px;
        }
        
        .attention::before {
            content: "‚ö†Ô∏è ";
            font-weight: bold;
        }
        
        .astuce {
            background-color: #d1ecf1;
            border-left: 4px solid #17a2b8;
            padding: 12px;
            margin: 15px 0;
            border-radius: 5px;
        }
        
        .astuce::before {
            content: "üí° ";
            font-weight: bold;
        }
        
        .nouveau {
            background-color: #d4edda;
            border-left: 4px solid #28a745;
            padding: 12px;
            margin: 15px 0;
            border-radius: 5px;
        }
        
        .nouveau::before {
            content: "üÜï ";
            font-weight: bold;
        }
        
        .defi {
            background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%);
            border: 2px dashed #e17055;
            padding: 15px;
            margin: 15px 0;
            border-radius: 8px;
        }
        
        .defi-titre {
            color: #d63031;
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 8px;
        }
        
        .defi-titre::before {
            content: "üèÜ ";
        }
        
        .comparaison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 20px 0;
        }
        
        .comparaison-box {
            padding: 15px;
            border-radius: 8px;
        }
        
        .mbot1-box {
            background-color: #e8f5e9;
            border: 2px solid #4caf50;
        }
        
        .mbot2-box {
            background-color: #e3f2fd;
            border: 2px solid #2196f3;
        }
        
        footer {
            margin-top: 30px;
            padding-top: 15px;
            border-top: 2px solid #ecf0f1;
            display: flex;
            justify-content: space-between;
            font-size: 0.9em;
            color: #7f8c8d;
        }
        
        @media print {
            body {
                background: white;
                padding: 0;
            }
            .fiche {
                box-shadow: none;
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="fiche">
        <header>
            <div class="header-top">
                <div>
                    <h1>ü§ñ Patrouille Intelligente avec IA</h1>
                    <p class="sequence-info">S√©quence : Syst√®mes de protection automatis√©s | Activit√© avanc√©e mBot 2</p>
                    <span class="robot-badge">Sp√©cial mBot 2</span>
                </div>
                <div class="niveau">Cycle 4</div>
            </div>
            <div class="competences">
                <span class="competence-badge">Algorithmique avanc√©e</span>
                <span class="competence-badge">Programmation Python</span>
                <span class="competence-badge">Intelligence Artificielle</span>
                <span class="competence-badge">Vision par ordinateur</span>
            </div>
        </header>

        <div class="mbot2-specificite">
            <div class="mbot2-titre">POURQUOI LE mBot 2 ?</div>
            <p>Le <strong>mBot 2</strong> (CyberPi) est une √©volution majeure du mBot classique, con√ßu pour l'apprentissage de l'IA et de l'IoT au coll√®ge.</p>
            
            <div class="comparaison">
                <div class="comparaison-box mbot1-box">
                    <h4>mBot V1 (Arduino)</h4>
                    <ul style="margin-left: 20px; font-size: 0.9em;">
                        <li>Programmation Scratch uniquement</li>
                        <li>Capteurs basiques</li>
                        <li>Pas d'√©cran</li>
                        <li>Bluetooth simple</li>
                    </ul>
                </div>
                <div class="comparaison-box mbot2-box">
                    <h4>mBot 2 (CyberPi) ‚ú®</h4>
                    <ul style="margin-left: 20px; font-size: 0.9em;">
                        <li><strong>Python</strong> + Scratch</li>
                        <li><strong>Cam√©ra IA</strong> int√©gr√©e</li>
                        <li><strong>√âcran couleur</strong> tactile</li>
                        <li><strong>WiFi</strong> + Bluetooth 5.0</li>
                        <li><strong>Odom√®tres</strong> pr√©cis</li>
                        <li><strong>Reconnaissance</strong> vocale/faciale</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="objectifs">
            <strong>üéØ Objectifs de l'activit√© :</strong>
            <ul>
                <li>Exploiter les capacit√©s <strong>d'Intelligence Artificielle</strong> du mBot 2</li>
                <li>Programmer en <strong>Python</strong> un syst√®me de d√©tection intelligente</li>
                <li>Utiliser la <strong>reconnaissance faciale</strong> pour authentification</li>
                <li>Cr√©er une <strong>communication WiFi</strong> entre robots</li>
                <li>Analyser les <strong>enjeux √©thiques</strong> de la surveillance par IA</li>
            </ul>
        </div>

        <div class="materiel">
            <strong>üì¶ Mat√©riel n√©cessaire :</strong>
            <ul>
                <li><strong>2-3 robots mBot 2</strong> (CyberPi) charg√©s</li>
                <li>Ordinateurs avec <strong>mBlock 5</strong> install√©</li>
                <li>Parcours de patrouille (ruban noir, 4√ó5m)</li>
                <li>Obstacles mobiles (cartons)</li>
                <li>Photos d'identit√© des √©l√®ves (pour reconnaissance faciale)</li>
                <li>Connexion WiFi pour communication inter-robots</li>
            </ul>
        </div>

        <div class="situation">
            <div class="situation-titre">üîí CONTEXTE : MUS√âE S√âCURIS√â</div>
            <p>Un mus√©e souhaite moderniser sa s√©curit√© avec des robots de patrouille √©quip√©s d'<strong>intelligence artificielle</strong>. Ces robots doivent :</p>
            <ul style="margin-left: 20px; margin-top: 10px;">
                <li>Patrouiller de mani√®re <strong>autonome</strong> dans les salles</li>
                <li><strong>Reconna√Ætre</strong> le personnel autoris√© (reconnaissance faciale)</li>
                <li><strong>D√©tecter</strong> les visiteurs non autoris√©s apr√®s les heures de fermeture</li>
                <li><strong>Communiquer</strong> entre eux pour coordonner la surveillance</li>
                <li>Afficher l'√©tat de surveillance sur leur <strong>√©cran</strong></li>
            </ul>
            
            <div class="mission-badge">
                üéØ MISSION : Programmer un robot de patrouille intelligent avec reconnaissance faciale et communication WiFi
            </div>
        </div>

        <h2>üìã D√©roulement (3 s√©ances de 1h30)</h2>

        <div class="phase">S√âANCE 1 : D√âCOUVERTE DES CAPACIT√âS IA DU mBot 2</div>

        <div class="etape">
            <span class="etape-numero">1</span>
            <span class="etape-titre">Prise en main du CyberPi (30 min)</span>
            <div class="consigne">
                D√©couvrez les nouveaux composants et fonctionnalit√©s du mBot 2
            </div>
            
            <h3>Tests de d√©couverte :</h3>
            <table>
                <thead>
                    <tr>
                        <th>Fonctionnalit√©</th>
                        <th>Test √† r√©aliser</th>
                        <th>Bloc mBlock / Code Python</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>√âcran couleur</strong></td>
                        <td>Afficher "Bonjour"</td>
                        <td><code>cyberpi.display.show_label(...)</code></td>
                    </tr>
                    <tr>
                        <td><strong>Odom√®tres</strong></td>
                        <td>Avancer pr√©cis√©ment de 50cm</td>
                        <td><code>cyberpi.quad_rgb_sensor.get_offset(...)</code></td>
                    </tr>
                    <tr>
                        <td><strong>Cam√©ra IA</strong></td>
                        <td>D√©tecter un visage</td>
                        <td><code>cyberpi.camera.detect_face()</code></td>
                    </tr>
                    <tr>
                        <td><strong>WiFi</strong></td>
                        <td>Se connecter au r√©seau</td>
                        <td><code>cyberpi.wifi.connect(...)</code></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="etape">
            <span class="etape-numero">2</span>
            <span class="etape-titre">Initiation √† la reconnaissance faciale (60 min)</span>
            <div class="consigne">
                Testez la reconnaissance faciale et cr√©ez une base de donn√©es de visages autoris√©s
            </div>
            
            <div class="nouveau">
                <strong>Nouvelle fonctionnalit√© IA :</strong> Le mBot 2 peut apprendre √† reconna√Ætre des visages et les distinguer !
            </div>

            <h3>√âtapes de configuration :</h3>
            <ol style="margin-left: 25px;">
                <li><strong>Entra√Ænement du mod√®le</strong> : Prendre 5-10 photos de chaque personne autoris√©e</li>
                <li><strong>Labellisation</strong> : Associer un nom √† chaque visage ("Personnel", "Intrus")</li>
                <li><strong>Test</strong> : V√©rifier que le robot reconna√Æt correctement les visages</li>
                <li><strong>Optimisation</strong> : Ajuster l'√©clairage, la distance, l'angle</li>
            </ol>

            <h3>Programme de test en mode blocs (mBlock) :</h3>
            <div class="code-block">
Quand üèÅ cliqu√©
  R√©p√©ter ind√©finiment
    Si cam√©ra d√©tecte un visage alors
      Mettre [nom_d√©tect√©] √† (nom du visage reconnu)
      
      Si [nom_d√©tect√©] = "Personnel" alors
        Afficher "Acc√®s autoris√©"
        LED en VERT
        
      Sinon
        Afficher "ALERTE : Intrus d√©tect√© !"
        LED en ROUGE
        Jouer son d'alarme
      Fin Si
    Fin Si
  Fin R√©p√©ter
            </div>

            <div class="astuce">
                <strong>Astuce :</strong> Pour de meilleurs r√©sultats, entra√Ænez le mod√®le avec des photos dans diff√©rentes conditions d'√©clairage !
            </div>
        </div>

        <div class="phase">S√âANCE 2 : PROGRAMMATION DE LA PATROUILLE INTELLIGENTE</div>

        <div class="etape">
            <span class="etape-numero">3</span>
            <span class="etape-titre">Patrouille avec odom√®tres (45 min)</span>
            <div class="consigne">
                Utilisez les odom√®tres pour un suivi pr√©cis du parcours
            </div>

            <div class="nouveau">
                <strong>Avantage des odom√®tres :</strong> Mesure pr√©cise de la distance parcourue, m√™me sans ligne au sol !
            </div>

            <h3>Programme Python (pour √©l√®ves avanc√©s) :</h3>
            <div class="code-block">
<span class="code-keyword">import</span> <span class="code-python">cyberpi</span>
<span class="code-keyword">import</span> <span class="code-python">mbot2</span>

<span class="code-comment"># Configuration</span>
VITESSE = <span class="code-string">50</span>
DISTANCE_COTE = <span class="code-string">100</span>  <span class="code-comment"># en cm</span>

<span class="code-comment"># Fonction de patrouille en carr√©</span>
<span class="code-keyword">def</span> <span class="code-python">patrouille_carre</span>():
    <span class="code-keyword">for</span> i <span class="code-keyword">in</span> <span class="code-python">range</span>(<span class="code-string">4</span>):  <span class="code-comment"># 4 c√¥t√©s</span>
        <span class="code-comment"># Afficher sur l'√©cran</span>
        cyberpi.display.show_label(<span class="code-string">f"C√¥t√© {i+1}/4"</span>, <span class="code-string">16</span>)
        
        <span class="code-comment"># R√©initialiser les odom√®tres</span>
        mbot2.reset_encoder()
        
        <span class="code-comment"># Avancer jusqu'√† atteindre la distance</span>
        <span class="code-keyword">while</span> mbot2.get_encoder_distance() < DISTANCE_COTE:
            mbot2.forward(VITESSE)
            
        mbot2.stop()
        cyberpi.wait(<span class="code-string">0.5</span>)
        
        <span class="code-comment"># Tourner √† 90¬∞</span>
        mbot2.turn_right(<span class="code-string">90</span>)
        cyberpi.wait(<span class="code-string">0.5</span>)

<span class="code-comment"># Boucle principale</span>
<span class="code-keyword">while</span> <span class="code-python">True</span>:
    patrouille_carre()
            </div>
        </div>

        <div class="etape">
            <span class="etape-numero">4</span>
            <span class="etape-titre">Int√©gration d√©tection IA + patrouille (45 min)</span>
            <div class="consigne">
                Combinez la patrouille autonome avec la reconnaissance faciale
            </div>

            <h3>Algorithme complet :</h3>
            <div class="code-block">
<span class="code-keyword">import</span> <span class="code-python">cyberpi</span>
<span class="code-keyword">import</span> <span class="code-python">mbot2</span>

<span class="code-comment"># Variables globales</span>
etat = <span class="code-string">"PATROUILLE"</span>  <span class="code-comment"># √âtats: PATROUILLE, ALERTE, VERIFICATION</span>
intrusions = <span class="code-string">0</span>

<span class="code-comment"># Fonction de d√©tection</span>
<span class="code-keyword">def</span> <span class="code-python">verifier_presence</span>():
    <span class="code-keyword">if</span> cyberpi.camera.detect_face():
        nom = cyberpi.camera.get_face_name()
        
        <span class="code-keyword">if</span> nom == <span class="code-string">"Personnel"</span>:
            cyberpi.display.show_label(<span class="code-string">"Acc√®s OK"</span>, <span class="code-string">16</span>, <span class="code-string">"green"</span>)
            cyberpi.led.on(<span class="code-string">0</span>, <span class="code-string">255</span>, <span class="code-string">0</span>)  <span class="code-comment"># LED verte</span>
            <span class="code-keyword">return</span> <span class="code-string">"AUTORISE"</span>
        <span class="code-keyword">else</span>:
            <span class="code-keyword">return</span> <span class="code-string">"INTRUS"</span>
    <span class="code-keyword">return</span> <span class="code-string">"RIEN"</span>

<span class="code-comment"># Fonction d'alerte</span>
<span class="code-keyword">def</span> <span class="code-python">declencher_alerte</span>():
    <span class="code-keyword">global</span> intrusions
    intrusions += <span class="code-string">1</span>
    
    mbot2.stop()
    cyberpi.display.show_label(<span class="code-string">"ALERTE !"</span>, <span class="code-string">24</span>, <span class="code-string">"red"</span>)
    
    <span class="code-comment"># LED rouge clignotante + sir√®ne</span>
    <span class="code-keyword">for</span> i <span class="code-keyword">in</span> <span class="code-python">range</span>(<span class="code-string">5</span>):
        cyberpi.led.on(<span class="code-string">255</span>, <span class="code-string">0</span>, <span class="code-string">0</span>)
        cyberpi.audio.play(<span class="code-string">"siren"</span>)
        cyberpi.wait(<span class="code-string">0.3</span>)
        cyberpi.led.off()
        cyberpi.wait(<span class="code-string">0.3</span>)

<span class="code-comment"># Boucle principale</span>
<span class="code-keyword">while</span> <span class="code-python">True</span>:
    <span class="code-comment"># Afficher l'√©tat actuel</span>
    cyberpi.display.show_label(<span class="code-string">f"{etat} - {intrusions}"</span>, <span class="code-string">12</span>)
    
    <span class="code-comment"># V√©rifier d√©tection</span>
    resultat = verifier_presence()
    
    <span class="code-keyword">if</span> resultat == <span class="code-string">"INTRUS"</span>:
        etat = <span class="code-string">"ALERTE"</span>
        declencher_alerte()
        cyberpi.wait(<span class="code-string">3</span>)
        etat = <span class="code-string">"PATROUILLE"</span>
    
    <span class="code-keyword">elif</span> resultat == <span class="code-string">"RIEN"</span>:
        <span class="code-comment"># Mode patrouille normale</span>
        mbot2.forward(<span class="code-string">50</span>)
            </div>

            <div class="attention">
                Le programme doit g√©rer les <strong>priorit√©s</strong> : d√©tection d'intrusion > √©vitement d'obstacle > patrouille normale
            </div>
        </div>

        <div class="phase">S√âANCE 3 : COMMUNICATION MULTI-ROBOTS</div>

        <div class="etape">
            <span class="etape-numero">5</span>
            <span class="etape-titre">Configuration du r√©seau WiFi (20 min)</span>
            <div class="consigne">
                Connectez les mBot 2 au m√™me r√©seau WiFi pour qu'ils puissent communiquer
            </div>

            <h3>Configuration WiFi :</h3>
            <div class="code-block">
<span class="code-keyword">import</span> <span class="code-python">cyberpi</span>

<span class="code-comment"># Se connecter au WiFi</span>
SSID = <span class="code-string">"ReseauCollege"</span>
PASSWORD = <span class="code-string">"motdepasse123"</span>

cyberpi.wifi.connect(SSID, PASSWORD)

<span class="code-comment"># Attendre la connexion</span>
<span class="code-keyword">while</span> <span class="code-keyword">not</span> cyberpi.wifi.is_connected():
    cyberpi.display.show_label(<span class="code-string">"Connexion..."</span>, <span class="code-string">16</span>)
    cyberpi.wait(<span class="code-string">0.5</span>)

cyberpi.display.show_label(<span class="code-string">"WiFi OK !"</span>, <span class="code-string">16</span>, <span class="code-string">"green"</span>)

<span class="code-comment"># Afficher l'adresse IP du robot</span>
ip = cyberpi.wifi.get_ip()
cyberpi.display.show_label(<span class="code-string">f"IP: {ip}"</span>, <span class="code-string">12</span>)
            </div>
        </div>

        <div class="etape">
            <span class="etape-numero">6</span>
            <span class="etape-titre">Communication entre robots (70 min)</span>
            <div class="consigne">
                Programmez les robots pour qu'ils se pr√©viennent mutuellement en cas d'intrusion d√©tect√©e
            </div>

            <div class="nouveau">
                <strong>Concept :</strong> Quand un robot d√©tecte un intrus, il envoie un message WiFi √† tous les autres robots qui passent TOUS en mode alerte !
            </div>

            <h3>Architecture de communication :</h3>
            <ul style="margin-left: 20px;">
                <li><strong>Robot 1</strong> (Patrouille Zone A) ‚Üí D√©tecte intrusion ‚Üí Envoie message "ALERTE_ZONE_A"</li>
                <li><strong>Robot 2</strong> (Patrouille Zone B) ‚Üí Re√ßoit message ‚Üí Passe en mode alerte coordonn√©</li>
                <li><strong>Robot 3</strong> (Patrouille Zone C) ‚Üí Re√ßoit message ‚Üí Se dirige vers Zone A</li>
            </ul>

            <h3>Programme avec communication (simplifi√©) :</h3>
            <div class="code-block">
<span class="code-keyword">import</span> <span class="code-python">cyberpi</span>
<span class="code-keyword">import</span> <span class="code-python">mbot2</span>

<span class="code-comment"># Configuration</span>
ID_ROBOT = <span class="code-string">"ROBOT_1"</span>  <span class="code-comment"># Changer pour chaque robot</span>
TOPIC_ALERTE = <span class="code-string">"musee/alerte"</span>

<span class="code-comment"># Callback quand message re√ßu</span>
<span class="code-keyword">def</span> <span class="code-python">message_recu</span>(topic, message):
    <span class="code-keyword">if</span> message == <span class="code-string">"INTRUS_DETECTE"</span>:
        cyberpi.display.show_label(<span class="code-string">"Alerte re√ßue!"</span>, <span class="code-string">16</span>, <span class="code-string">"red"</span>)
        cyberpi.led.on(<span class="code-string">255</span>, <span class="code-string">0</span>, <span class="code-string">0</span>)
        cyberpi.audio.play(<span class="code-string">"alert"</span>)

<span class="code-comment"># S'abonner au topic</span>
cyberpi.cloud.subscribe(TOPIC_ALERTE, message_recu)

<span class="code-comment"># Boucle principale</span>
<span class="code-keyword">while</span> <span class="code-python">True</span>:
    <span class="code-keyword">if</span> cyberpi.camera.detect_face():
        nom = cyberpi.camera.get_face_name()
        
        <span class="code-keyword">if</span> nom != <span class="code-string">"Personnel"</span>:
            <span class="code-comment"># INTRUS D√âTECT√â - Pr√©venir les autres !</span>
            cyberpi.cloud.publish(TOPIC_ALERTE, <span class="code-string">"INTRUS_DETECTE"</span>)
            cyberpi.display.show_label(<span class="code-string">"Alerte envoy√©e"</span>, <span class="code-string">16</span>)
    
    <span class="code-comment"># Continuer la patrouille...</span>
    mbot2.forward(<span class="code-string">50</span>)
            </div>

            <div class="astuce">
                <strong>Test de communication :</strong> Placez une main devant un robot ‚Üí V√©rifiez que les autres r√©agissent !
            </div>
        </div>

        <h2>üèÜ D√©fis bonus</h2>

        <div class="defi">
            <div class="defi-titre">D√âFI 1 : Tableau de bord en temps r√©el</div>
            <p>Cr√©ez une page web affichant en temps r√©el : position de chaque robot, nombre d'intrusions, niveau de batterie, zones couvertes. Utilisez l'API Cloud du mBot 2.</p>
        </div>

        <div class="defi">
            <div class="defi-titre">D√âFI 2 : Reconnaissance d'objets</div>
            <p>Entra√Ænez le robot √† reconna√Ætre des objets (sac √† dos, t√©l√©phone) en plus des visages. Le robot signale tout objet abandonn√© suspect.</p>
        </div>

        <div class="defi">
            <div class="defi-titre">D√âFI 3 : Mode nuit automatique</div>
            <p>Utilisez le capteur de luminosit√© pour activer automatiquement la patrouille √† la tomb√©e de la nuit et la d√©sactiver le matin.</p>
        </div>

        <div class="defi">
            <div class="defi-titre">D√âFI 4 : Historique et statistiques</div>
            <p>Enregistrez dans un fichier : heures des intrusions, dur√©e de chaque patrouille, zones les plus fr√©quent√©es. Affichez des graphiques sur l'√©cran du robot.</p>
        </div>

        <h2>üí≠ D√©bat √©thique (20 min)</h2>

        <div class="attention">
            <strong>Questions √† d√©battre en classe :</strong>
        </div>

        <ol style="margin-left: 25px; margin-top: 10px;">
            <li>La reconnaissance faciale est-elle une atteinte √† la <strong>vie priv√©e</strong> ?</li>
            <li>Que se passe-t-il si le robot fait une <strong>erreur</strong> et prend une personne autoris√©e pour un intrus ?</li>
            <li>Doit-on <strong>informer</strong> les visiteurs qu'ils sont film√©s par un robot IA ?</li>
            <li>Un robot peut-il remplacer un <strong>agent de s√©curit√© humain</strong> ? Avantages / Inconv√©nients ?</li>
            <li>Qui est <strong>responsable</strong> si le robot cause un accident ?</li>
            <li>Les donn√©es collect√©es (visages film√©s) doivent-elles √™tre <strong>effac√©es</strong> ? Apr√®s combien de temps ?</li>
        </ol>

        <div class="nouveau">
            <strong>Lien avec la s√©quence pr√©c√©dente (Cybers√©curit√©) :</strong>
            <ul style="margin-left: 20px; margin-top: 5px;">
                <li>Reconnaissance faciale = biom√©trie = authentification forte</li>
                <li>Communication WiFi = risque de piratage</li>
                <li>RGPD : droit √† l'image, consentement, dur√©e de conservation</li>
            </ul>
        </div>

        <h2>üìä √âvaluation</h2>

        <table>
            <thead>
                <tr>
                    <th>Crit√®re</th>
                    <th>Points</th>
                    <th>Indicateurs</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Reconnaissance faciale</strong></td>
                    <td>5 pts</td>
                    <td>Mod√®le entra√Æn√©, taux de reconnaissance > 80%</td>
                </tr>
                <tr>
                    <td><strong>Patrouille autonome</strong></td>
                    <td>4 pts</td>
                    <td>Circuit parcouru sans erreur, √©vitement d'obstacles</td>
                </tr>
                <tr>
                    <td><strong>Communication WiFi</strong></td>
                    <td>4 pts</td>
                    <td>Messages envoy√©s/re√ßus, coordination entre robots</td>
                </tr>
                <tr>
                    <td><strong>Interface √©cran</strong></td>
                    <td>3 pts</td>
                    <td>Affichage clair de l'√©tat, des alertes, des stats</td>
                </tr>
                <tr>
                    <td><strong>Code Python</strong></td>
                    <td>2 pts</td>
                    <td>Syntaxe correcte, commentaires, structure claire</td>
                </tr>
                <tr>
                    <td><strong>R√©flexion √©thique</strong></td>
                    <td>2 pts</td>
                    <td>Participation au d√©bat, arguments construits</td>
                </tr>
            </tbody>
        </table>

        <h2>üìù Trace √©crite</h2>

        <p><strong>Concepts cl√©s √† retenir :</strong></p>
        <ul style="margin-left: 20px; margin-top: 10px;">
            <li>L'<strong>Intelligence Artificielle</strong> permet aux machines d'apprendre et de reconna√Ætre des patterns (visages, objets, etc.)</li>
            <li>La <strong>reconnaissance faciale</strong> repose sur des r√©seaux de neurones entra√Æn√©s sur des milliers d'images</li>
            <li>Les <strong>odom√®tres</strong> mesurent pr√©cis√©ment les rotations des roues pour calculer la distance parcourue</li>
            <li>La <strong>communication WiFi</strong> permet aux robots de collaborer et de partager des informations en temps r√©el</li>
            <li>Les syst√®mes de surveillance par IA soul√®vent des questions <strong>√©thiques</strong> importantes : vie priv√©e, biais algorithmiques, responsabilit√©</li>
        </ul>

        <footer>
            <div>Technologie 3√®me - mBot 2 - Patrouille Intelligente avec IA</div>
            <div>Dur√©e : 3 s√©ances (4h30)</div>
        </footer>
    </div>
</body>
</html>
